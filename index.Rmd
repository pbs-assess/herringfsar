---
# Start of options to set
report_title: |
  Strait of Georgia Pacific Herring (*Clupea pallasii*) stock update in 2024
assess_yr: "2024"
report_year: "2025"
release_month: "January"
report_number: "XXX"
meeting_date: "September 23, 2024"
region: "Pacific Region"
phone: "(250) 555-5555"
email: "DFO.PacificCSA-CASPacifique.MPO@dfo-mpo.gc.ca"
csa_address: "3190 Hammond Bay Rd., Nanaimo, BC, V9T 6N7"
report_title_french: |
  Mise à jour du stock de hareng du Pacifique (*Clupea pallasii*)
  du détroit de Géorgie en 2024
inuktitut_citation: |
  Inuktitut citation here
# [Mandatory section; less than 150 words.]
context: |
  Pacific Herring (*Clupea pallasii*) abundance in British Columbia is assessed
  using a spatially integrated statistical catch at age model fit to
  spawn survey indices, fishery age composition data, and commercial catches.
  This stock assessment evaluates abundance relative to
  the limit reference point, the upper stock reference, and
  fisheries management objectives.
  [...]
  We recommend a management procedure for the
  Strait of Georgia stock assessment region.
output:
 csasdown::fsar_word
link-citations: false
bibliography: bib/refs.bib
csl: csl/csas.csl
# End of options to set
title: ""
knit: (function(input, ...) {
       csasdown::render_sar()
      })
always_allow_html: true
header-includes:
  - \usepackage{pifont}% http://ctan.org/pkg/pifont
  - \newcommand{\xmark}{\ding{55}}%
---

```{r libraries, echo = FALSE, message = FALSE}
# External packages
library(knitr)
library(rmarkdown)
library(tidyverse)
library(RColorBrewer)
library(rosettafish)
library(csasdown)
library(here)
library(patchwork)
library(scales)
library(gfutilities)
library(kableExtra)
```

```{r setup, echo = FALSE}
# Set knitr options
if (is_latex_output()) {
  knitr_figs_dir <- "knitr-figs-pdf/"
  knitr_cache_dir <- "knitr-cache-pdf/"
  fig_out_type <- "png"
  kable_format <- "latex"
} else {
  knitr_figs_dir <- "knitr-figs-docx/"
  knitr_cache_dir <- "knitr-cache-docx/"
  fig_out_type <- "png"
  kable_format <- "pandoc"
}
# Set knitr chunk options
knitr::opts_chunk$set(
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  fig.path = "knitr-figs-docx/",
  fig.asp = 0.618,
  fig.width = 7,
  echo = FALSE,
  dev = "png",
  dpi = 180
)
```

```{r metadata}
# assess_yr <- metadata$assess_yr
assess_yr <- 2024
MSE_yr    <- 2023
# meta_out <- metadata$output
# french <- meta_out$`csasdown::fsar_word`$french
french    <- FALSE
include_extras <- FALSE 

# TODO: [SAM] add a list of any variables needed to
# change. i.e. Region, USR, BO, [see functions.R/makeModelHistTable[arguments]] 
```

```{r models}
models_dir <- here("models")
major_stock_dir <- list("SoG")
```

```{r scripts}
# Files
source(here("R", "functions.R"))
source(here("R", "models.R"))
source(here("R", "variables.R"))
source(here("R", "figures.R"))
source(here("R", "themes.R"))
source(here("functions", "ms3Rplots.R"))
source(here("functions", "ms3RrefPts.R"))
source(here("functions", "ms3Rstats.R"))
source(here("functions", "ms3Rtools.R"))
source(here("functions", "SISCAfuns.R"))
source(here("functions", "SISCAplots.R"))
source(here("functions", "SISCAtools.R"))
# Theme for figures
theme_set(theme_herring())
```

<!-- Math expressions -->
\newcommand{\mli}[1]{\mathit{#1}}
\newcommand{\SB}{\mli{`r en2fr("SB", translate = french)`}}
\newcommand{\BR}{\mli{BR}}
\newcommand{\AVE}{\text{`r en2fr("AVE", translate = french)`}}

<!-- Compile the document on the command line: -->
<!-- bookdown::render_book("index.Rmd") -->
